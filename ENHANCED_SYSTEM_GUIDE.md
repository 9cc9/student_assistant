# 🚀 AI助教评估系统 - 增强版使用指南

## 🆕 新功能概览

系统现在支持更便捷的项目提交方式和更全面的评估分析！

### ✨ 主要新特性

1. **📁 文件上传支持** - 直接上传代码文件夹或压缩包
2. **🔗 Git仓库集成** - 通过Git URL直接评估项目
3. **🌐 Web界面** - 用户友好的前端页面
4. **🔍 深度代码分析** - AST解析、架构分析、安全检查
5. **📊 实时结果展示** - 在页面上直接查看评估结果

## 🎯 使用方式

### 方式一：Web界面 (推荐)

1. **启动系统**：
```bash
cd /Users/beibei/Documents/projects/ai/student_assistant/student_assistant
PYTHONPATH=. python -m src.main
```

2. **访问前端页面**：
   - 打开浏览器访问：http://localhost:8000
   - 选择提交方式：文件上传或Git仓库

3. **文件上传模式**：
   - 填写学生ID
   - 描述项目创意
   - 拖拽文件或点击选择文件
   - 支持格式：`.zip`, `.tar.gz`, 单个代码文件
   - 点击"提交项目评估"

4. **Git仓库模式**：
   - 填写学生ID
   - 输入Git仓库URL (如：https://github.com/username/project.git)
   - 选择分支 (默认main)
   - 描述项目创意
   - 点击"提交Git项目评估"

### 方式二：API调用

#### 文件上传API
```bash
curl -X POST "http://localhost:8000/api/upload/files" \
  -F "student_id=student_001" \
  -F "idea_text=这是我的项目创意..." \
  -F "files=@project.zip"
```

#### Git仓库API
```bash
curl -X POST "http://localhost:8000/api/upload/git" \
  -H "Content-Type: application/json" \
  -d '{
    "student_id": "student_001",
    "repo_url": "https://github.com/username/project.git",
    "branch": "main",
    "idea_text": "这是我的项目创意..."
  }'
```

## 📊 评估结果说明

### 即时反馈信息

提交后立即显示：
- **项目分析**：文件统计、编程语言、使用框架
- **评估进度**：实时状态更新
- **基础信息**：提交时间、项目路径等

### 详细评估结果

评估完成后显示：

#### 1. 📈 综合评分
- **总分**: 0-100分的综合评价
- **各维度评分**：
  - 创意想法 (30%)：创新性、可行性、学习价值
  - UI设计 (30%)：规范性、可用性、信息架构
  - 代码质量 (40%)：正确性、可读性、架构、性能

#### 2. 🔧 改进建议
- **具体问题**: 按维度分类的问题诊断
- **修复建议**: 针对性的改进方案
- **优先级**: 按重要程度排序

#### 3. 📚 学习资源
- **推荐资源**: 基于评估结果的个性化学习资料
- **参考文档**: 相关技术文档和最佳实践
- **在线教程**: 针对性的学习链接

#### 4. ✅ 评估状态
- **通过状态**: 是否达到通过标准 (≥60分)
- **准出规则**: 具体的改进要求
- **后续步骤**: 下一步学习建议

## 🔍 深度分析功能

### 代码质量分析

#### Python项目
- **AST解析**: 函数、类、导入分析
- **代码风格**: PEP8规范检查
- **安全扫描**: 危险函数使用检测
- **复杂度计算**: 圈复杂度评估

#### JavaScript/TypeScript项目
- **代码模式**: 最佳实践检查
- **现代化程度**: ES6+特性使用
- **框架检测**: React/Vue/Angular识别

### 项目架构分析

- **目录结构**: 组织合理性评估
- **模块化程度**: 代码分离度分析
- **设计模式**: 常用模式识别
- **依赖管理**: 包管理文件检查

### 最佳实践检查

- **文档完整性**: README、注释检查
- **测试覆盖**: 测试文件存在性
- **配置管理**: 环境配置文件
- **版本控制**: .gitignore等文件

## 💡 使用技巧

### 1. 项目提交优化

**文件上传模式**：
- 压缩包方式上传整个项目更高效
- 支持多文件选择，自动识别项目结构
- 建议包含完整的项目文件（包括配置文件）

**Git仓库模式**：
- 确保仓库是公开的或有访问权限
- 推荐使用HTTPS链接
- 指定正确的分支名称

### 2. 提高评估准确性

- **详细的创意描述**: 包含项目背景、目标用户、核心功能
- **完整的项目结构**: 包含README、测试文件、配置文件
- **规范的代码风格**: 遵循语言特定的编码规范

### 3. 快速问题定位

- 查看"改进建议"获取具体问题
- 使用推荐学习资源进行针对性学习
- 根据准出规则明确改进方向

## 🚀 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                      Web前端界面                           │
│  文件上传 │ Git提交 │ 结果展示 │ 进度跟踪                    │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                     文件处理服务层                         │
│ 文件解压 │ Git克隆 │ 项目分析 │ 代码提取                     │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                     增强评估引擎                           │
│ AST解析 │ 静态分析 │ 架构评估 │ 安全扫描 │ 最佳实践检查       │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                   AI评估与诊断系统                          │
│ 通义千问API │ 多维度评分 │ 诊断生成 │ 建议推荐              │
└─────────────────────────────────────────────────────────────┘
```

## 🔧 配置说明

### 环境变量配置

创建 `.env` 文件：
```env
# 阿里云通义千问API
DASHSCOPE_API_KEY=your_api_key_here

# 系统配置
DEBUG=True
HOST=0.0.0.0
PORT=8000

# 文件上传设置
MAX_FILE_SIZE_MB=100
UPLOAD_DIR=./uploads
```

### 支持的文件类型

**代码文件**：
- Python: `.py`
- JavaScript/TypeScript: `.js`, `.ts`, `.jsx`, `.tsx`
- Java: `.java`
- C/C++: `.c`, `.cpp`, `.h`
- 其他: `.cs`, `.php`, `.rb`, `.go`, `.rs`

**配置文件**：
- Web: `.html`, `.css`, `.scss`, `.json`
- 文档: `.md`, `.txt`, `.yml`, `.yaml`
- 构建: `Dockerfile`, `.sh`, `.bat`

**压缩包**：
- `.zip`, `.tar.gz`, `.tar`

## ❗ 常见问题

### Q1: 文件上传失败
**解决方案**:
- 检查文件大小是否超过限制
- 确保文件格式受支持
- 尝试压缩整个项目后上传

### Q2: Git仓库克隆失败
**解决方案**:
- 确认仓库URL正确且可访问
- 检查分支名称是否存在
- 尝试使用HTTPS而非SSH链接

### Q3: 评估结果为空
**解决方案**:
- 等待评估完成（通常需要30秒-2分钟）
- 点击"刷新状态"按钮
- 检查API密钥配置是否正确

### Q4: 代码分析不准确
**解决方案**:
- 确保项目结构完整
- 添加必要的配置文件
- 提供详细的项目描述

## 📞 技术支持

如遇到问题，可以：

1. 查看浏览器开发者工具的控制台错误
2. 检查服务器日志：`tail -f logs/student_assistant.log`
3. 访问API文档：http://localhost:8000/docs
4. 查看系统状态：http://localhost:8000/api/system/status

---

**系统版本**: 2.0.0  
**更新时间**: 2024-01-01  
**技术栈**: FastAPI + Vue.js + 阿里云通义千问  
**开源地址**: https://github.com/your-repo/ai-teacher-assistant
